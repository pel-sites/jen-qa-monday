<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QA Manager Procedure - Complete SOP</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>✓</text></svg>">
    <meta name="description" content="Complete 13-step QA Standard Operating Procedure for Pure Earth Labs production. Checklists, tolerances, defect classification, and Loom callouts.">
    <link rel="stylesheet" href="/css/shared.css">
    <style>
        /* Page-specific styles for QA Manager Procedure */

        body {
            margin: 0;
            padding: 0;
        }

        /* Reading Progress Bar */
        .reading-progress {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background: var(--darker-bg);
            z-index: 1001;
        }

        .reading-progress-bar {
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg,
                var(--color-info) 0%,
                var(--color-info) 7%,
                var(--color-warning) 7%,
                var(--color-warning) 50%,
                var(--color-success) 50%,
                var(--color-success) 85%,
                var(--color-accent) 85%
            );
            background-size: 100% 100%;
            transition: width 100ms ease-out;
        }

        /* Main Layout */
        .page-layout {
            display: flex;
            max-width: var(--max-width);
            margin: 0 auto;
            padding: var(--space-5);
        }

        .main-content {
            flex: 1;
            min-width: 0;
            max-width: 100%;
        }

        @media (min-width: 1200px) {
            .page-layout {
                padding-left: 280px;
            }

            .main-content {
                max-width: var(--content-width);
                margin: 0 auto;
            }
        }

        /* Section h2 with step badge layout */
        .section h2 {
            display: flex;
            align-items: center;
            gap: var(--space-4);
        }

        /* Step badges */
        .step-badge {
            background: var(--color-accent);
            color: #fff;
            padding: var(--space-2) var(--space-4);
            border-radius: var(--radius-full);
            font-size: var(--text-sm);
            font-weight: 600;
            white-space: nowrap;
        }

        .step-badge.prep { background: var(--color-info); }
        .step-badge.prerun { background: var(--color-warning); color: #000; }
        .step-badge.inprocess { background: var(--color-success); color: #000; }
        .step-badge.final { background: var(--color-accent); }

        /* Table of Contents - Inline (mobile/tablet) */
        .toc-inline {
            background: var(--color-surface);
            padding: var(--space-6);
            border-radius: var(--radius-lg);
            margin-bottom: var(--space-8);
            border: 1px solid var(--color-border);
        }

        .toc-inline h3 {
            margin-top: 0;
            color: var(--color-accent);
        }

        .toc-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: var(--space-3);
        }

        .toc-inline a {
            color: var(--color-text);
            text-decoration: none;
            padding: var(--space-2) var(--space-3);
            border-radius: var(--radius-md);
            display: block;
            transition: background var(--transition-fast);
        }

        .toc-inline a:hover {
            background: var(--darker-bg);
            text-decoration: none;
        }

        .toc-inline .phase-label {
            font-size: var(--text-xs);
            padding: 2px 8px;
            border-radius: var(--radius-full);
            margin-right: var(--space-2);
        }

        /* Sticky TOC Sidebar */
        .toc-sidebar {
            display: none;
        }

        @media (min-width: 1200px) {
            .toc-inline {
                display: none;
            }

            .toc-sidebar {
                display: block;
                position: fixed;
                top: 60px;
                left: 0;
                width: 260px;
                height: calc(100vh - 60px);
                overflow-y: auto;
                padding: var(--space-5);
                background: var(--darker-bg);
                border-right: 1px solid var(--color-border);
                z-index: 99;
            }

            .toc-sidebar h3 {
                font-size: var(--text-sm);
                color: var(--color-text-muted);
                text-transform: uppercase;
                letter-spacing: 0.05em;
                margin: 0 0 var(--space-4) 0;
            }

            .toc-sidebar-list {
                list-style: none;
                padding: 0;
                margin: 0;
            }

            .toc-sidebar-list li {
                margin: 0;
            }

            .toc-sidebar-list a {
                display: flex;
                align-items: center;
                gap: var(--space-2);
                padding: var(--space-2) var(--space-3);
                color: var(--color-text-muted);
                text-decoration: none;
                font-size: var(--text-sm);
                border-radius: var(--radius-md);
                border-left: 2px solid transparent;
                transition: all var(--transition-fast);
            }

            .toc-sidebar-list a:hover {
                color: var(--color-text);
                background: var(--color-surface);
                text-decoration: none;
            }

            .toc-sidebar-list a.active {
                color: var(--color-text);
                background: var(--color-surface);
                border-left-color: var(--color-accent);
                font-weight: 500;
            }

            .toc-sidebar-list .phase-dot {
                width: 8px;
                height: 8px;
                border-radius: 50%;
                flex-shrink: 0;
            }

            .toc-sidebar-list .phase-dot.prep { background: var(--color-info); }
            .toc-sidebar-list .phase-dot.prerun { background: var(--color-warning); }
            .toc-sidebar-list .phase-dot.inprocess { background: var(--color-success); }
            .toc-sidebar-list .phase-dot.final { background: var(--color-accent); }
        }

        /* Phase Overview */
        .phase-overview {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0;
            flex-wrap: wrap;
            margin: var(--space-5) 0;
        }

        .phase-box {
            padding: var(--space-5) var(--space-8);
            border-radius: var(--radius-lg);
            text-align: center;
            min-width: 180px;
        }

        .phase-box h4 { margin: 0 0 var(--space-1) 0; font-size: var(--text-lg); }
        .phase-box p { margin: 0; opacity: 0.9; font-size: var(--text-sm); }

        .phase-box.prep { background: var(--color-info); color: #fff; }
        .phase-box.prerun { background: var(--color-warning); color: #000; }
        .phase-box.inprocess { background: var(--color-success); color: #000; }
        .phase-box.final { background: var(--color-accent); color: #fff; }

        .phase-arrow {
            font-size: 2em;
            color: #666;
            padding: 0 var(--space-3);
        }

        /* Expand button */
        .expand-btn {
            display: block;
            margin: var(--space-5) auto 0;
            background: var(--darker-bg);
            border: 1px solid var(--color-border-light);
            color: var(--color-text);
            padding: var(--space-3) var(--space-5);
            border-radius: var(--radius-md);
            cursor: pointer;
            font-size: var(--text-sm);
            transition: background var(--transition-fast);
        }

        .expand-btn:hover { background: var(--color-surface-raised); }

        /* Modal */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            padding: var(--space-5);
        }

        .modal-overlay.active { display: flex; }

        .modal-content {
            background: #fff;
            border-radius: var(--radius-lg);
            max-width: 95vw;
            max-height: 90vh;
            overflow: auto;
            position: relative;
            padding: var(--space-8);
        }

        .modal-close {
            position: absolute;
            top: var(--space-3);
            right: var(--space-4);
            background: var(--color-critical);
            color: #fff;
            border: none;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            font-size: 1.5em;
            cursor: pointer;
            line-height: 1;
        }

        .modal-close:hover { background: #c02040; }

        .modal-content .mermaid {
            min-width: 1000px;
        }

        /* Section Focus & scroll-margin */
        .section {
            scroll-margin-top: 80px;
            transition: border-left-color var(--transition-base), background var(--transition-base);
            border-left: 4px solid transparent;
        }

        .section.active {
            border-left-color: var(--color-accent);
            background: linear-gradient(90deg, rgba(157, 80, 221, 0.05) 0%, var(--color-surface) 100%);
        }

        /* Anchor highlight animation */
        @keyframes anchor-flash {
            0% { background: rgba(157, 80, 221, 0.3); }
            100% { background: transparent; }
        }

        .section.anchor-highlight {
            animation: anchor-flash 1.5s ease-out;
        }

        /* Section header with copy link */
        .section-header {
            display: flex;
            align-items: center;
            gap: var(--space-3);
            position: relative;
        }

        .section h2 {
            flex: 1;
        }

        .copy-link-btn {
            opacity: 0;
            background: var(--darker-bg);
            border: 1px solid var(--color-border);
            color: var(--color-text-muted);
            padding: var(--space-2);
            border-radius: var(--radius-md);
            cursor: pointer;
            transition: opacity var(--transition-fast), background var(--transition-fast), color var(--transition-fast);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .section:hover .copy-link-btn {
            opacity: 1;
        }

        .copy-link-btn:hover {
            background: var(--color-accent);
            color: #fff;
            border-color: var(--color-accent);
        }

        .copy-link-btn svg {
            width: 16px;
            height: 16px;
        }

        .copy-link-btn.copied {
            background: var(--color-success);
            color: #000;
            border-color: var(--color-success);
        }

        /* Subsections */
        .subsection {
            background: var(--darker-bg);
            border-radius: var(--radius-md);
            padding: var(--space-5);
            margin: var(--space-5) 0;
            border-left: 4px solid var(--color-accent);
        }

        .subsection h4 {
            margin: 0 0 var(--space-4) 0;
            color: var(--color-accent);
        }

        .subsection.important {
            border-left-color: var(--color-critical);
            background: linear-gradient(135deg, rgba(223, 47, 74, 0.1) 0%, var(--darker-bg) 100%);
        }

        .subsection.important h4 { color: var(--color-critical); }

        /* Loom Callout */
        .loom-callout {
            background: linear-gradient(135deg, rgba(87, 155, 252, 0.2) 0%, rgba(87, 155, 252, 0.1) 100%);
            border: 1px solid var(--color-info);
            border-radius: var(--radius-md);
            padding: var(--space-3) var(--space-4);
            margin: var(--space-3) 0;
            font-style: italic;
        }

        .loom-callout::before {
            content: "Say on Loom: ";
            font-weight: 600;
            font-style: normal;
            color: var(--color-info);
        }

        /* Defect table colors */
        .defect-table td:first-child { font-weight: 600; }
        .defect-acceptable { color: var(--color-success); }
        .defect-borderline { color: #9cd326; }
        .defect-minor { color: var(--color-warning); }
        .defect-major { color: #ff642e; }
        .defect-critical { color: var(--color-critical); }

        /* Naming convention box */
        .naming-convention {
            background: var(--darker-bg);
            padding: var(--space-5);
            border-radius: var(--radius-md);
            font-family: var(--font-mono);
            font-size: var(--text-lg);
            text-align: center;
            margin: var(--space-4) 0;
            border: 2px dashed var(--color-accent);
        }

        /* Photo grid */
        .photo-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: var(--space-3);
            margin: var(--space-4) 0;
        }

        .photo-item {
            background: var(--darker-bg);
            padding: var(--space-3);
            border-radius: var(--radius-md);
            text-align: center;
            border: 1px solid var(--color-border);
        }

        /* Tolerance box */
        .tolerance-box {
            display: inline-block;
            background: var(--darker-bg);
            padding: var(--space-1) var(--space-3);
            border-radius: var(--radius-sm);
            font-family: var(--font-mono);
            margin: 2px;
        }

        /* Responsive nav adjustment for progress bar */
        nav {
            top: 3px !important;
        }

        /* Interactive Checkboxes */
        .checkbox {
            width: 24px;
            height: 24px;
            min-width: 24px;
            border: 2px solid var(--color-border-light);
            border-radius: var(--radius-sm);
            background: transparent;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all var(--transition-fast);
            padding: 0;
        }

        .checkbox:hover {
            border-color: var(--color-accent);
            background: rgba(157, 80, 221, 0.1);
        }

        .checkbox:focus {
            outline: none;
            box-shadow: 0 0 0 3px rgba(157, 80, 221, 0.3);
        }

        .checkbox[aria-pressed="true"] {
            background: var(--color-success);
            border-color: var(--color-success);
        }

        .checkbox-icon {
            width: 16px;
            height: 16px;
            stroke: transparent;
            stroke-width: 3;
            stroke-linecap: round;
            stroke-linejoin: round;
            fill: none;
        }

        .checkbox[aria-pressed="true"] .checkbox-icon {
            stroke: #000;
        }

        /* Checkmark animation */
        .checkbox-icon path {
            stroke-dasharray: 24;
            stroke-dashoffset: 24;
            transition: stroke-dashoffset 0.2s ease-out;
        }

        .checkbox[aria-pressed="true"] .checkbox-icon path {
            stroke-dashoffset: 0;
        }

        /* Scale bounce on check */
        @keyframes checkbox-bounce {
            0% { transform: scale(1); }
            50% { transform: scale(1.15); }
            100% { transform: scale(1); }
        }

        .checkbox.just-checked {
            animation: checkbox-bounce 0.2s ease-out;
        }

        /* Checked item styling */
        .checklist-item.checked > div:last-child {
            opacity: 0.6;
        }

        .checklist-item.checked > div:last-child strong {
            text-decoration: line-through;
            text-decoration-color: var(--color-success);
        }

        /* Progress indicator per section */
        .checklist-progress {
            font-size: var(--text-sm);
            color: var(--color-text-muted);
            margin-bottom: var(--space-3);
            display: flex;
            align-items: center;
            gap: var(--space-2);
        }

        .checklist-progress-bar {
            flex: 1;
            max-width: 120px;
            height: 4px;
            background: var(--darker-bg);
            border-radius: 2px;
            overflow: hidden;
        }

        .checklist-progress-fill {
            height: 100%;
            background: var(--color-success);
            transition: width 0.3s ease-out;
            width: 0%;
        }

        /* Reset button */
        .reset-progress-btn {
            display: block;
            margin: var(--space-8) auto;
            background: transparent;
            border: 1px solid var(--color-border);
            color: var(--color-text-muted);
            padding: var(--space-2) var(--space-4);
            border-radius: var(--radius-md);
            cursor: pointer;
            font-size: var(--text-sm);
            transition: all var(--transition-fast);
        }

        .reset-progress-btn:hover {
            border-color: var(--color-critical);
            color: var(--color-critical);
        }
    </style>
</head>
<body>
<!-- Reading Progress Bar -->
<div class="reading-progress">
    <div class="reading-progress-bar" id="progressBar"></div>
</div>

<nav class="nav">
    <div class="nav-inner">
        <a href="/" class="nav-brand">Jen QA Monday</a>
        <button class="nav-toggle" aria-label="Toggle menu">
            <span></span>
            <span></span>
            <span></span>
        </button>
        <ul class="nav-links">
            <li><a href="/">Home</a></li>
            <li><a href="/qa_manager_procedure.html" class="active">Procedure</a></li>
            <li><a href="/qa_workflow_analysis.html">Workflow</a></li>
            <li><a href="/team_performance_analysis.html">Performance</a></li>
            <li><a href="/next_steps_roadmap.html">Roadmap</a></li>
            <li><a href="/production_board_structure.html">Board</a></li>
            <li><a href="/ideal_candidate_profile.html">Candidate</a></li>
        </ul>
    </div>
</nav>
<script src="/js/nav.js"></script>

<!-- Sticky TOC Sidebar (desktop only) -->
<aside class="toc-sidebar">
    <h3>Contents</h3>
    <ul class="toc-sidebar-list">
        <li><a href="#step-0" data-section="step-0"><span class="phase-dot prep"></span>Step 0: What I Open First</a></li>
        <li><a href="#step-1" data-section="step-1"><span class="phase-dot prerun"></span>Step 1: Spec Sheet at Line</a></li>
        <li><a href="#step-2" data-section="step-2"><span class="phase-dot prerun"></span>Step 2: Component Verification</a></li>
        <li><a href="#step-3" data-section="step-3"><span class="phase-dot prerun"></span>Step 3: Batch Code Setup</a></li>
        <li><a href="#step-4" data-section="step-4"><span class="phase-dot prerun"></span>Step 4: Equipment Calibration</a></li>
        <li><a href="#step-5" data-section="step-5"><span class="phase-dot prerun"></span>Step 5: Line Config + Sanitation</a></li>
        <li><a href="#step-6" data-section="step-6"><span class="phase-dot prerun"></span>Step 6: Batch Record/MO</a></li>
        <li><a href="#step-7" data-section="step-7"><span class="phase-dot inprocess"></span>Step 7: Begin QA Docs</a></li>
        <li><a href="#step-8" data-section="step-8"><span class="phase-dot inprocess"></span>Step 8: In-Process Checks</a></li>
        <li><a href="#step-9" data-section="step-9"><span class="phase-dot inprocess"></span>Step 9: Defect Classification</a></li>
        <li><a href="#step-10" data-section="step-10"><span class="phase-dot inprocess"></span>Step 10: Product Standards</a></li>
        <li><a href="#step-11" data-section="step-11"><span class="phase-dot inprocess"></span>Step 11: Close-Out Steps</a></li>
        <li><a href="#step-12" data-section="step-12"><span class="phase-dot final"></span>Step 12: Save Documentation</a></li>
        <li><a href="#step-13" data-section="step-13"><span class="phase-dot final"></span>Step 13: Attach to Monday</a></li>
    </ul>
</aside>

<div class="page-layout">
<div class="main-content">
    <div class="header">
        <h1>QA Manager Procedure</h1>
        <div class="subtitle">Complete Standard Operating Procedure for Production QA</div>
        <div class="meta">Pure Earth Labs | Loom Training Script Reference</div>
    </div>

    <!-- Overview Flowchart -->
    <div class="section">
        <h2>Workflow Overview</h2>

        <!-- Simplified Phase View -->
        <div class="phase-overview">
            <div class="phase-box prep">
                <h4>PREPARATION</h4>
                <p>Step 0</p>
            </div>
            <span class="phase-arrow">→</span>
            <div class="phase-box prerun">
                <h4>PRE-RUN</h4>
                <p>Steps 1-6</p>
            </div>
            <span class="phase-arrow">→</span>
            <div class="phase-box inprocess">
                <h4>IN-PROCESS</h4>
                <p>Steps 7-11</p>
            </div>
            <span class="phase-arrow">→</span>
            <div class="phase-box final">
                <h4>FINAL</h4>
                <p>Steps 12-13</p>
            </div>
        </div>

        <button class="expand-btn" onclick="document.getElementById('flowModal').classList.add('active')">
            Show Detailed Workflow Diagram
        </button>
    </div>

    <!-- Modal for full diagram -->
    <div id="flowModal" class="modal-overlay" onclick="if(event.target === this) this.classList.remove('active')">
        <div class="modal-content">
            <button class="modal-close" onclick="document.getElementById('flowModal').classList.remove('active')">&times;</button>
            <h3 style="color: #333; margin-top: 0;">Complete Workflow</h3>
            <div class="mermaid">
flowchart LR
    subgraph Prep["Step 0: Preparation"]
        P1["Open Sprint/Bulk<br/>Weekly Sheet"]
        P2["Find Today's Run"]
        P3["Open Spec Sheet"]
        P4["Open QA Report<br/>Template"]
    end

    subgraph PreRun["Steps 1-6: Pre-Run"]
        PR1["1. Spec at Line"]
        PR2["2. Components"]
        PR3["3. Batch Code"]
        PR4["4. Equipment"]
        PR5["5. Line Config"]
        PR6["6. MO Verify"]
    end

    subgraph InProcess["Steps 7-11: In-Process"]
        IP1["7. Start Docs"]
        IP2["8. QA Checks"]
        IP3["9. Defects"]
        IP4["10. Standards"]
        IP5["11. Close-out"]
    end

    subgraph Final["Steps 12-13: Final"]
        F1["12. Save to Drive"]
        F2["13. Attach to<br/>Monday.com"]
    end

    P1 --> P2 --> P3 --> P4
    P4 --> PR1 --> PR2 --> PR3 --> PR4 --> PR5 --> PR6
    PR6 --> IP1 --> IP2 --> IP3 --> IP4 --> IP5
    IP5 --> F1 --> F2

    style P1 fill:#579bfc,color:#fff
    style P2 fill:#579bfc,color:#fff
    style P3 fill:#579bfc,color:#fff
    style P4 fill:#579bfc,color:#fff
    style PR1 fill:#fdab3d,color:#000
    style PR2 fill:#fdab3d,color:#000
    style PR3 fill:#fdab3d,color:#000
    style PR4 fill:#fdab3d,color:#000
    style PR5 fill:#fdab3d,color:#000
    style PR6 fill:#fdab3d,color:#000
    style IP1 fill:#00c875,color:#000
    style IP2 fill:#00c875,color:#000
    style IP3 fill:#00c875,color:#000
    style IP4 fill:#00c875,color:#000
    style IP5 fill:#00c875,color:#000
    style F1 fill:#9d50dd,color:#fff
    style F2 fill:#9d50dd,color:#fff
            </div>
        </div>
    </div>

    <!-- Table of Contents (inline for mobile/tablet) -->
    <div class="toc-inline">
        <h3>Table of Contents</h3>
        <div class="toc-grid">
            <a href="#step-0"><span class="phase-label phase-prep">PREP</span> Step 0: What I Open First</a>
            <a href="#step-1"><span class="phase-label phase-prerun">PRE-RUN</span> Step 1: Spec Sheet at Line</a>
            <a href="#step-2"><span class="phase-label phase-prerun">PRE-RUN</span> Step 2: Component Verification</a>
            <a href="#step-3"><span class="phase-label phase-prerun">PRE-RUN</span> Step 3: Batch Code Setup</a>
            <a href="#step-4"><span class="phase-label phase-prerun">PRE-RUN</span> Step 4: Equipment Calibration</a>
            <a href="#step-5"><span class="phase-label phase-prerun">PRE-RUN</span> Step 5: Line Config + Sanitation</a>
            <a href="#step-6"><span class="phase-label phase-prerun">PRE-RUN</span> Step 6: Batch Record/MO Verification</a>
            <a href="#step-7"><span class="phase-label phase-inprocess">IN-PROCESS</span> Step 7: Begin QA Documentation</a>
            <a href="#step-8"><span class="phase-label phase-inprocess">IN-PROCESS</span> Step 8: In-Process QA Checks</a>
            <a href="#step-9"><span class="phase-label phase-inprocess">IN-PROCESS</span> Step 9: Defect Classification</a>
            <a href="#step-10"><span class="phase-label phase-inprocess">IN-PROCESS</span> Step 10: Product Standards Check</a>
            <a href="#step-11"><span class="phase-label phase-inprocess">IN-PROCESS</span> Step 11: End of Run Close-out</a>
            <a href="#step-12"><span class="phase-label phase-final">FINAL</span> Step 12: Save Documentation</a>
            <a href="#step-13"><span class="phase-label phase-final">FINAL</span> Step 13: Attach to Monday.com</a>
        </div>
    </div>

    <!-- STEP 0 -->
    <div class="section" id="step-0">
        <div class="section-header">
            <h2><span class="step-badge prep">STEP 0</span> What I Open First</h2>
            <button class="copy-link-btn" data-section="step-0" title="Copy link to section">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" />
                </svg>
            </button>
        </div>

        <div class="mermaid">
flowchart TB
    A["Open Sprint + Bulk<br/>Weekly Sheet"] --> B["Find Today's Run<br/>(SKU + PO/MO)"]
    B --> C{"Note Anything<br/>Special?"}
    C -->|"Component change"| D["Document Change"]
    C -->|"New label"| D
    C -->|"New closure"| D
    C -->|"Normal"| E["Continue"]
    D --> E
    E --> F["Open Approved<br/>Spec Sheet for SKU"]
    F --> G["Open New Copy of<br/>QA Inspection Report"]

    style A fill:#579bfc,color:#fff
    style G fill:#579bfc,color:#fff
        </div>

        <div class="checklist" data-checklist="step-0">
            <div class="checklist-progress">
                <span class="checklist-progress-text">0/4 complete</span>
                <div class="checklist-progress-bar"><div class="checklist-progress-fill"></div></div>
            </div>
            <div class="checklist-item">
                <button class="checkbox" data-id="step-0-item-0" aria-pressed="false">
                    <svg viewBox="0 0 24 24" class="checkbox-icon"><path d="M5 12l5 5L19 7" /></svg>
                </button>
                <div>
                    <strong>Open the Sprint + Bulk weekly sheet</strong><br/>
                    Find today's run (SKU + PO/MO)
                </div>
            </div>
            <div class="checklist-item">
                <button class="checkbox" data-id="step-0-item-1" aria-pressed="false">
                    <svg viewBox="0 0 24 24" class="checkbox-icon"><path d="M5 12l5 5L19 7" /></svg>
                </button>
                <div>
                    <strong>Note anything special for today:</strong><br/>
                    Component change, new label, new closure, etc.
                </div>
            </div>
            <div class="checklist-item">
                <button class="checkbox" data-id="step-0-item-2" aria-pressed="false">
                    <svg viewBox="0 0 24 24" class="checkbox-icon"><path d="M5 12l5 5L19 7" /></svg>
                </button>
                <div>
                    <strong>Open the approved, up-to-date spec sheet</strong> for today's SKU<br/>
                    <em>Note: If there is not one (Earth Harbor products don't have them yet), proceed without</em>
                </div>
            </div>
            <div class="checklist-item">
                <button class="checkbox" data-id="step-0-item-3" aria-pressed="false">
                    <svg viewBox="0 0 24 24" class="checkbox-icon"><path d="M5 12l5 5L19 7" /></svg>
                </button>
                <div>
                    <strong>Open a new copy of the "PURE EARTH LABS Spec Sheet & Inspection Report"</strong> doc for today's PO/run
                </div>
            </div>
        </div>
    </div>

    <!-- STEP 1 -->
    <div class="section" id="step-1">
        <div class="section-header">
            <h2><span class="step-badge prerun">STEP 1</span> Pre-Run: Spec Sheet Must Be at the Line</h2>
            <button class="copy-link-btn" data-section="step-1" title="Copy link to section">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" />
                </svg>
            </button>
        </div>

        <div class="non-negotiable">
            <strong>NON-NEGOTIABLE:</strong> The correct spec sheet must be at the line before any production begins.
        </div>

        <div class="checklist" data-checklist="step-1">
            <div class="checklist-progress">
                <span class="checklist-progress-text">0/2 complete</span>
                <div class="checklist-progress-bar"><div class="checklist-progress-fill"></div></div>
            </div>
            <div class="checklist-item">
                <button class="checkbox" data-id="step-1-item-0" aria-pressed="false">
                    <svg viewBox="0 0 24 24" class="checkbox-icon"><path d="M5 12l5 5L19 7" /></svg>
                </button>
                <div>
                    <strong>Bring the correct spec sheet to the line</strong> (printed or accessible)
                </div>
            </div>
            <div class="checklist-item">
                <button class="checkbox" data-id="step-1-item-1" aria-pressed="false">
                    <svg viewBox="0 0 24 24" class="checkbox-icon"><path d="M5 12l5 5L19 7" /></svg>
                </button>
                <div>
                    <strong>Verify you have the most current approved version</strong>
                </div>
            </div>
        </div>

        <div class="loom-callout">
            "I'm verifying I have the most current approved version, and it's present at the line."
        </div>
    </div>

    <!-- STEP 2 -->
    <div class="section" id="step-2">
        <div class="section-header">
            <h2><span class="step-badge prerun">STEP 2</span> Pre-Run: Component Verification</h2>
            <button class="copy-link-btn" data-section="step-2" title="Copy link to section">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" />
                </svg>
            </button>
        </div>
        <p>Match staged materials to the spec sheet</p>

        <div class="mermaid">
flowchart TB
    subgraph Staged["A) Check What's Staged"]
        S1["Stand at staging area"]
        S2["Verify each component<br/>matches spec sheet<br/>COMPONENTRY section"]
    end

    subgraph Components["Components to Verify"]
        C1["Primary Container"]
        C2["Closure<br/>(lid/pump/dropper)"]
        C3["Overcap/Insert<br/>(if applicable)"]
        C4["Secondary Packaging<br/>(carton)"]
        C5["Label"]
        C6["Additional Packaging<br/>(if any)"]
    end

    subgraph Confirm["For Each Component Confirm:"]
        V1["Correct type matches<br/>spec references"]
        V2["Matches vendor &<br/>reference photos"]
        V3["No obvious damage<br/>or defects"]
    end

    subgraph Labels["B) Label Roll Verification"]
        L1["Correct label roll<br/>at the line"]
        L2["Labels are defect-free"]
        L3["Labels loaded correctly<br/>on applicator"]
    end

    S1 --> S2
    S2 --> C1 & C2 & C3 & C4 & C5 & C6
    C1 & C2 & C3 & C4 & C5 & C6 --> V1 & V2 & V3
    V1 & V2 & V3 --> L1 --> L2 --> L3

    style S1 fill:#fdab3d,color:#000
    style L3 fill:#fdab3d,color:#000
        </div>

        <div class="subsection">
            <h4>A) Check What's Staged (by Line Manager or Night Stager)</h4>
            <p>Stand at the staging area and verify every component matches the spec sheet "COMPONENTRY" section:</p>
            <table>
                <thead>
                    <tr>
                        <th>Component</th>
                        <th>Verify</th>
                    </tr>
                </thead>
                <tbody>
                    <tr><td>Primary container</td><td>Type, vendor, reference photo match</td></tr>
                    <tr><td>Closure (lid/pump/dropper)</td><td>Type, vendor, reference photo match</td></tr>
                    <tr><td>Overcap/insert</td><td>If applicable - type match</td></tr>
                    <tr><td>Secondary packaging (carton)</td><td>Correct carton for SKU</td></tr>
                    <tr><td>Label</td><td>Correct label for SKU</td></tr>
                    <tr><td>Additional packaging</td><td>Any extras per spec</td></tr>
                </tbody>
            </table>
            <p><strong>For each component, confirm:</strong></p>
            <ul>
                <li>Correct component type and match to spec references (vendor, reference photos, etc.)</li>
                <li>No obvious damage/defects before loading</li>
            </ul>
        </div>

        <div class="subsection">
            <h4>B) Label Roll Verification</h4>
            <ul>
                <li>Confirm the correct label roll is at the line</li>
                <li>Check labels are:
                    <ul>
                        <li>Defect-free</li>
                        <li>Loaded correctly on the applicator</li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>

    <!-- STEP 3 -->
    <div class="section" id="step-3">
        <div class="section-header">
            <h2><span class="step-badge prerun">STEP 3</span> Pre-Run: Batch Code Setup Verification</h2>
            <button class="copy-link-btn" data-section="step-3" title="Copy link to section">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" />
                </svg>
            </button>
        </div>
        <p>Before production begins</p>

        <div class="checklist" data-checklist="step-3">
            <div class="checklist-progress">
                <span class="checklist-progress-text">0/2 complete</span>
                <div class="checklist-progress-bar"><div class="checklist-progress-fill"></div></div>
            </div>
            <div class="checklist-item">
                <button class="checkbox" data-id="step-3-item-0" aria-pressed="false">
                    <svg viewBox="0 0 24 24" class="checkbox-icon"><path d="M5 12l5 5L19 7" /></svg>
                </button>
                <div>
                    <strong>Confirm batch code standards on the form:</strong>
                    <ul>
                        <li>Batch Code #</li>
                        <li>Designated location</li>
                        <li>Batch code requirements</li>
                    </ul>
                </div>
            </div>
            <div class="checklist-item">
                <button class="checkbox" data-id="step-3-item-1" aria-pressed="false">
                    <svg viewBox="0 0 24 24" class="checkbox-icon"><path d="M5 12l5 5L19 7" /></svg>
                </button>
                <div>
                    <strong>Verify printer is set correctly and do a test print/check:</strong>
                    <ul>
                        <li>Legible</li>
                        <li>Correct format</li>
                        <li>Correct placement</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- STEP 4 -->
    <div class="section" id="step-4">
        <div class="section-header">
            <h2><span class="step-badge prerun">STEP 4</span> Pre-Run: Equipment Calibration Checks</h2>
            <button class="copy-link-btn" data-section="step-4" title="Copy link to section">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" />
                </svg>
            </button>
        </div>

        <div class="checklist" data-checklist="step-4">
            <div class="checklist-progress">
                <span class="checklist-progress-text">0/2 complete</span>
                <div class="checklist-progress-bar"><div class="checklist-progress-fill"></div></div>
            </div>
            <div class="checklist-item">
                <button class="checkbox" data-id="step-4-item-0" aria-pressed="false">
                    <svg viewBox="0 0 24 24" class="checkbox-icon"><path d="M5 12l5 5L19 7" /></svg>
                </button>
                <div>
                    <strong>Torque meter</strong> is calibrated and operational
                </div>
            </div>
            <div class="checklist-item">
                <button class="checkbox" data-id="step-4-item-1" aria-pressed="false">
                    <svg viewBox="0 0 24 24" class="checkbox-icon"><path d="M5 12l5 5L19 7" /></svg>
                </button>
                <div>
                    <strong>Scale</strong> is calibrated, tared, and accurate
                </div>
            </div>
        </div>

        <div class="loom-callout">
            "Torque meter is calibrated and operational. Scale is calibrated, tared, and accurate."
        </div>
    </div>

    <!-- STEP 5 -->
    <div class="section" id="step-5">
        <div class="section-header">
            <h2><span class="step-badge prerun">STEP 5</span> Pre-Run: Filling Line Configuration + Sanitation</h2>
            <button class="copy-link-btn" data-section="step-5" title="Copy link to section">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" />
                </svg>
            </button>
        </div>

        <div class="subsection">
            <h4>Line Setup Items (as applicable)</h4>
            <div class="checklist" data-checklist="step-5a">
                <div class="checklist-progress">
                    <span class="checklist-progress-text">0/3 complete</span>
                    <div class="checklist-progress-bar"><div class="checklist-progress-fill"></div></div>
                </div>
                <div class="checklist-item">
                    <button class="checkbox" data-id="step-5a-item-0" aria-pressed="false">
                        <svg viewBox="0 0 24 24" class="checkbox-icon"><path d="M5 12l5 5L19 7" /></svg>
                    </button>
                    <div>Hopper mesh filter installed</div>
                </div>
                <div class="checklist-item">
                    <button class="checkbox" data-id="step-5a-item-1" aria-pressed="false">
                        <svg viewBox="0 0 24 24" class="checkbox-icon"><path d="M5 12l5 5L19 7" /></svg>
                    </button>
                    <div>Hopper lid secured</div>
                </div>
                <div class="checklist-item">
                    <button class="checkbox" data-id="step-5a-item-2" aria-pressed="false">
                        <svg viewBox="0 0 24 24" class="checkbox-icon"><path d="M5 12l5 5L19 7" /></svg>
                    </button>
                    <div>Blower attached + operational (when applicable)</div>
                </div>
            </div>
        </div>

        <div class="subsection">
            <h4>Sanitation Verification</h4>
            <div class="checklist" data-checklist="step-5b">
                <div class="checklist-progress">
                    <span class="checklist-progress-text">0/1 complete</span>
                    <div class="checklist-progress-bar"><div class="checklist-progress-fill"></div></div>
                </div>
                <div class="checklist-item">
                    <button class="checkbox" data-id="step-5b-item-0" aria-pressed="false">
                        <svg viewBox="0 0 24 24" class="checkbox-icon"><path d="M5 12l5 5L19 7" /></svg>
                    </button>
                    <div>Line, hoppers, tools, surfaces sanitized per sanitation SOP and documented</div>
                </div>
            </div>
        </div>
    </div>

    <!-- STEP 6 -->
    <div class="section" id="step-6">
        <div class="section-header">
            <h2><span class="step-badge prerun">STEP 6</span> Pre-Run: Batch Record / MO Verification</h2>
            <button class="copy-link-btn" data-section="step-6" title="Copy link to section">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" />
                </svg>
            </button>
        </div>

        <div class="non-negotiable">
            <strong>No run starts until the MO/batch record, spec sheet, and staged components all match.</strong>
        </div>

        <div class="checklist" data-checklist="step-6">
            <div class="checklist-progress">
                <span class="checklist-progress-text">0/1 complete</span>
                <div class="checklist-progress-bar"><div class="checklist-progress-fill"></div></div>
            </div>
            <div class="checklist-item">
                <button class="checkbox" data-id="step-6-item-0" aria-pressed="false">
                    <svg viewBox="0 0 24 24" class="checkbox-icon"><path d="M5 12l5 5L19 7" /></svg>
                </button>
                <div>
                    <strong>Verify the MO and batch record match:</strong>
                    <ul>
                        <li>Correct SKU</li>
                        <li>Correct packaging requirements</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="loom-callout">
            "No run starts until the MO/batch record, spec sheet, and staged components all match."
        </div>
    </div>

    <!-- STEP 7 -->
    <div class="section" id="step-7">
        <div class="section-header">
            <h2><span class="step-badge inprocess">STEP 7</span> Start of Run: Begin QA Documentation</h2>
            <button class="copy-link-btn" data-section="step-7" title="Copy link to section">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" />
                </svg>
            </button>
        </div>
        <p>Follow the form in order</p>

        <div class="subsection">
            <h4>A) Fill Out the Top of the Document</h4>
            <table>
                <tbody>
                    <tr><td>Product name</td><td><em>Enter value</em></td></tr>
                    <tr><td>SKU code</td><td><em>Enter value</em></td></tr>
                    <tr><td>Client/brand</td><td><em>Enter value</em></td></tr>
                    <tr><td>Spec sheet last updated</td><td><em>Enter date</em></td></tr>
                    <tr><td>Internal doc code (if required)</td><td><em>Enter value</em></td></tr>
                </tbody>
            </table>
        </div>

        <div class="subsection">
            <h4>B) Add/Confirm Photos As You Go</h4>
            <p>Take/attach photos as required:</p>
            <div class="photo-grid">
                <div class="photo-item">Primary Packaging<br/><strong>Front</strong></div>
                <div class="photo-item">Primary Packaging<br/><strong>Back</strong></div>
                <div class="photo-item">Primary Packaging<br/><strong>Side 1</strong></div>
                <div class="photo-item">Primary Packaging<br/><strong>Side 2</strong></div>
                <div class="photo-item">Secondary Packaging<br/><strong>Photos</strong></div>
                <div class="photo-item">Additional<br/><strong>As Needed</strong></div>
            </div>
        </div>
    </div>

    <!-- STEP 8 -->
    <div class="section" id="step-8">
        <div class="section-header">
            <h2><span class="step-badge inprocess">STEP 8</span> In-Process QA Checks</h2>
            <button class="copy-link-btn" data-section="step-8" title="Copy link to section">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" />
                </svg>
            </button>
        </div>
        <p>Repeat at the required frequency throughout the run</p>

        <div class="loom-callout">
            "Now I'm doing my in-process checks throughout the run."
        </div>

        <div class="mermaid">
flowchart TB
    subgraph Checks["In-Process QA Checks"]
        A["Fill Weight"]
        B["Torque"]
        C["Label Placement"]
        D["Batch Code Clarity"]
        E["Quality Checks"]
        F["Thread & Finish"]
        G["Leak Prevention"]
        H["Component Verification"]
    end

    A --> |"Target weight<br/>Accepted range ±%"| Pass1["Pass/Fail"]
    B --> |"Min/Max torque<br/>Required frequency"| Pass2["Pass/Fail"]
    C --> |"Orientation<br/>±mm tolerances"| Pass3["Pass/Fail"]
    D --> |"Legible, Complete<br/>Correct format/placement"| Pass4["Pass/Fail"]
    E --> |"No cracks, scratches<br/>dents, residue"| Pass5["Pass/Fail"]
    F --> |"No residue/buildup<br/>on threads"| Pass6["Pass/Fail"]
    G --> |"Upside down test<br/>No leaking/seepage"| Pass7["Pass/Fail"]
    H --> |"No unapproved<br/>component swaps"| Pass8["Pass/Fail"]

    style A fill:#00c875,color:#000
    style B fill:#00c875,color:#000
    style C fill:#00c875,color:#000
    style D fill:#00c875,color:#000
    style E fill:#00c875,color:#000
    style F fill:#00c875,color:#000
    style G fill:#00c875,color:#000
    style H fill:#00c875,color:#000
        </div>

        <table>
            <thead>
                <tr>
                    <th>Check</th>
                    <th>What to Verify</th>
                    <th>Criteria</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>Fill Weight</strong></td>
                    <td>Measure units</td>
                    <td>
                        <span class="tolerance-box">Target fill weight</span>
                        <span class="tolerance-box">Accepted range/tolerance (g and/or %)</span>
                    </td>
                </tr>
                <tr>
                    <td><strong>Torque</strong></td>
                    <td>Check closure torque with torque meter</td>
                    <td>
                        <span class="tolerance-box">Min torque</span>
                        <span class="tolerance-box">Max torque</span><br/>
                        Follow "required frequency" listed
                    </td>
                </tr>
                <tr>
                    <td><strong>Label Placement</strong></td>
                    <td>Confirm orientation and placement</td>
                    <td>
                        <span class="tolerance-box">Orientation standard</span><br/>
                        <span class="tolerance-box">Vertical tolerance (± mm)</span>
                        <span class="tolerance-box">Horizontal tolerance (± mm)</span>
                    </td>
                </tr>
                <tr>
                    <td><strong>Batch Code Clarity</strong></td>
                    <td>Confirm batch codes</td>
                    <td>Legible, Complete, Correct format, Correct placement</td>
                </tr>
                <tr>
                    <td><strong>Quality Checks</strong></td>
                    <td>Confirm units are free of defects</td>
                    <td>No cracks, scratches, dents, residue/contamination</td>
                </tr>
                <tr>
                    <td><strong>Thread & Finish Cleanliness</strong></td>
                    <td>Check threads and closure interfaces</td>
                    <td>No residue/buildup on threads or closure interfaces</td>
                </tr>
                <tr>
                    <td><strong>Leak Prevention</strong></td>
                    <td>Set aside sample, place upside down</td>
                    <td>No leaking, No seepage</td>
                </tr>
                <tr>
                    <td><strong>Ongoing Component Verification</strong></td>
                    <td>Re-check components throughout run</td>
                    <td>No unapproved swaps</td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- STEP 9 -->
    <div class="section" id="step-9">
        <div class="section-header">
            <h2><span class="step-badge inprocess">STEP 9</span> Defect Classification</h2>
            <button class="copy-link-btn" data-section="step-9" title="Copy link to section">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" />
                </svg>
            </button>
        </div>
        <p>How to log issues correctly</p>

        <p>When an issue is found, classify it in the defect table:</p>

        <table class="defect-table">
            <thead>
                <tr>
                    <th>Classification</th>
                    <th>Description</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td class="defect-acceptable">Acceptable</td>
                    <td>Within all tolerances, no action needed</td>
                </tr>
                <tr>
                    <td class="defect-borderline">Borderline but acceptable</td>
                    <td>At edge of tolerance but still passes</td>
                </tr>
                <tr>
                    <td class="defect-minor">Minor defect</td>
                    <td>Small issue, may not affect function</td>
                </tr>
                <tr>
                    <td class="defect-major">Major defect</td>
                    <td>Significant issue requiring attention</td>
                </tr>
                <tr>
                    <td class="defect-critical">Critical defect</td>
                    <td>Serious issue, may require line stop</td>
                </tr>
            </tbody>
        </table>

        <div class="subsection important">
            <h4>Required Documentation for Defects</h4>
            <p>Add supporting photos and short notes on:</p>
            <ul>
                <li><strong>What happened</strong> - Description of the defect</li>
                <li><strong>Where it happened</strong> - Location in run, unit numbers if applicable</li>
                <li><strong>What was done to correct/contain it</strong> - Actions taken</li>
            </ul>
        </div>
    </div>

    <!-- STEP 10 -->
    <div class="section" id="step-10">
        <div class="section-header">
            <h2><span class="step-badge inprocess">STEP 10</span> Product Standards Check</h2>
            <button class="copy-link-btn" data-section="step-10" title="Copy link to section">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" />
                </svg>
            </button>
        </div>
        <p>Compare to retention sample</p>

        <div class="non-negotiable">
            <strong>Always compare product to retention sample as the true standard.</strong>
        </div>

        <div class="checklist" data-checklist="step-10">
            <div class="checklist-progress">
                <span class="checklist-progress-text">0/4 complete</span>
                <div class="checklist-progress-bar"><div class="checklist-progress-fill"></div></div>
            </div>
            <div class="checklist-item">
                <button class="checkbox" data-id="step-10-item-0" aria-pressed="false">
                    <svg viewBox="0 0 24 24" class="checkbox-icon"><path d="M5 12l5 5L19 7" /></svg>
                </button>
                <div><strong>Appearance</strong> - Visual match to retention sample</div>
            </div>
            <div class="checklist-item">
                <button class="checkbox" data-id="step-10-item-1" aria-pressed="false">
                    <svg viewBox="0 0 24 24" class="checkbox-icon"><path d="M5 12l5 5L19 7" /></svg>
                </button>
                <div><strong>Color</strong> - Color match to retention sample</div>
            </div>
            <div class="checklist-item">
                <button class="checkbox" data-id="step-10-item-2" aria-pressed="false">
                    <svg viewBox="0 0 24 24" class="checkbox-icon"><path d="M5 12l5 5L19 7" /></svg>
                </button>
                <div><strong>Odor</strong> - Scent match to retention sample</div>
            </div>
            <div class="checklist-item">
                <button class="checkbox" data-id="step-10-item-3" aria-pressed="false">
                    <svg viewBox="0 0 24 24" class="checkbox-icon"><path d="M5 12l5 5L19 7" /></svg>
                </button>
                <div><strong>Texture/consistency</strong> - Feel and consistency match to retention sample</div>
            </div>
        </div>
    </div>

    <!-- STEP 11 -->
    <div class="section" id="step-11">
        <div class="section-header">
            <h2><span class="step-badge inprocess">STEP 11</span> End of Run: Close-Out Steps</h2>
            <button class="copy-link-btn" data-section="step-11" title="Copy link to section">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" />
                </svg>
            </button>
        </div>

        <div class="non-negotiable">
            <strong>Must be completed every time - no exceptions.</strong>
        </div>

        <div class="mermaid">
flowchart TB
    A["Final Fill & Torque<br/>Verification"] --> B["Label Roll<br/>Reconciliation"]
    B --> C["Component<br/>Reconciliation"]
    C --> D["Waste<br/>Documentation"]
    D --> E["Final Unit Count<br/>Verification"]
    E --> F["Line Cleanup &<br/>Readiness"]

    style A fill:#00c875,color:#000
    style F fill:#00c875,color:#000
        </div>

        <div class="subsection">
            <h4>Final Fill & Torque Verification</h4>
            <ul>
                <li>Confirm final units meet tolerances</li>
                <li>If deviation occurs, document and trigger root cause evaluation</li>
            </ul>
        </div>

        <div class="subsection">
            <h4>Label Roll Reconciliation</h4>
            <ul>
                <li>Record remaining labels</li>
                <li>Document damaged/unused rolls</li>
            </ul>
        </div>

        <div class="subsection">
            <h4>Component Reconciliation</h4>
            <ul>
                <li>Reconcile all components vs MO quantities</li>
                <li>Document overages/shortages/discrepancies</li>
            </ul>
        </div>

        <div class="subsection">
            <h4>Waste Documentation</h4>
            <ul>
                <li>Log scrapped components/defective units per SOP</li>
            </ul>
        </div>

        <div class="subsection">
            <h4>Final Unit Count Verification</h4>
            <ul>
                <li>Confirm acceptable units match MO requirement</li>
            </ul>
        </div>

        <div class="subsection">
            <h4>Line Cleanup & Readiness</h4>
            <ul>
                <li>Confirm line is cleaned and prepped for next run per sanitation SOP</li>
            </ul>
        </div>
    </div>

    <!-- STEP 12 -->
    <div class="section" id="step-12">
        <div class="section-header">
            <h2><span class="step-badge final">STEP 12</span> Save the Documentation</h2>
            <button class="copy-link-btn" data-section="step-12" title="Copy link to section">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" />
                </svg>
            </button>
        </div>
        <p>Organized Drive filing</p>

        <div class="checklist" data-checklist="step-12">
            <div class="checklist-progress">
                <span class="checklist-progress-text">0/1 complete</span>
                <div class="checklist-progress-bar"><div class="checklist-progress-fill"></div></div>
            </div>
            <div class="checklist-item">
                <button class="checkbox" data-id="step-12-item-0" aria-pressed="false">
                    <svg viewBox="0 0 24 24" class="checkbox-icon"><path d="M5 12l5 5L19 7" /></svg>
                </button>
                <div>Save the completed QA doc in Drive using the trained folder structure</div>
            </div>
        </div>

        <div class="subsection">
            <h4>Naming Convention</h4>
            <div class="naming-convention">
                Client_Brand – SKU – PO/MO – Date – QA Inspection Report
            </div>
            <p><em>Example:</em> <code>EarthHarbor – EH-SKU-001 – WO-001234 – 2025-12-08 – QA Inspection Report</code></p>
        </div>

        <div class="loom-callout">
            Say the naming convention on Loom as you save the file.
        </div>

        <div class="subsection important">
            <h4>Before Saving, Double-Check:</h4>
            <ul>
                <li>Photos attached</li>
                <li>All required sections complete</li>
            </ul>
        </div>
    </div>

    <!-- STEP 13 -->
    <div class="section" id="step-13">
        <div class="section-header">
            <h2><span class="step-badge final">STEP 13</span> Attach to Monday.com</h2>
            <button class="copy-link-btn" data-section="step-13" title="Copy link to section">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" />
                </svg>
            </button>
        </div>

        <div class="non-negotiable">
            <strong>FINAL REQUIRED STEP:</strong> QA documentation must be attached to Monday.com.
        </div>

        <div class="mermaid">
flowchart LR
    A["Open Monday.com<br/>Production Board"] --> B["Find Ticket<br/>for PO"]
    B --> C["Upload to<br/>QA DOCS Column"]
    C --> D["Confirm<br/>Attachment Visible"]

    style A fill:#9d50dd,color:#fff
    style D fill:#9d50dd,color:#fff
        </div>

        <div class="checklist" data-checklist="step-13">
            <div class="checklist-progress">
                <span class="checklist-progress-text">0/3 complete</span>
                <div class="checklist-progress-bar"><div class="checklist-progress-fill"></div></div>
            </div>
            <div class="checklist-item">
                <button class="checkbox" data-id="step-13-item-0" aria-pressed="false">
                    <svg viewBox="0 0 24 24" class="checkbox-icon"><path d="M5 12l5 5L19 7" /></svg>
                </button>
                <div><strong>Open the Monday.com ticket</strong> for that specific PO</div>
            </div>
            <div class="checklist-item">
                <button class="checkbox" data-id="step-13-item-1" aria-pressed="false">
                    <svg viewBox="0 0 24 24" class="checkbox-icon"><path d="M5 12l5 5L19 7" /></svg>
                </button>
                <div><strong>Attach the final QA documentation file</strong> to the ticket (QA DOCS column)</div>
            </div>
            <div class="checklist-item">
                <button class="checkbox" data-id="step-13-item-2" aria-pressed="false">
                    <svg viewBox="0 0 24 24" class="checkbox-icon"><path d="M5 12l5 5L19 7" /></svg>
                </button>
                <div><strong>Confirm attachment is visible and correct</strong></div>
            </div>
        </div>

        <div class="subsection" style="border-left-color: var(--blue);">
            <h4 style="color: var(--blue);">Monday.com Reference</h4>
            <table>
                <tbody>
                    <tr><td>Board</td><td>Production (ID: 9304930311)</td></tr>
                    <tr><td>Column</td><td>QA DOCS (<code>file_mktcs58s</code>)</td></tr>
                    <tr><td>URL</td><td><a href="https://earthharbor.monday.com/boards/9304930311" style="color: var(--blue);">earthharbor.monday.com/boards/9304930311</a></td></tr>
                </tbody>
            </table>
        </div>
    </div>

    <!-- Summary -->
    <div class="section">
        <h2>Quick Reference</h2>
        <div class="phase-overview" style="margin-bottom: 30px;">
            <div class="phase-box prep">
                <h4>PREP</h4>
                <p>Step 0</p>
            </div>
            <span class="phase-arrow">→</span>
            <div class="phase-box prerun">
                <h4>PRE-RUN</h4>
                <p>Steps 1-6</p>
            </div>
            <span class="phase-arrow">→</span>
            <div class="phase-box inprocess">
                <h4>IN-PROCESS</h4>
                <p>Steps 7-11</p>
            </div>
            <span class="phase-arrow">→</span>
            <div class="phase-box final">
                <h4>FINAL</h4>
                <p>Steps 12-13</p>
            </div>
        </div>
        <div class="subsection important">
            <h4>Non-Negotiables</h4>
            <ul style="margin: 0;">
                <li><strong>Step 1:</strong> Spec sheet must be at the line</li>
                <li><strong>Step 6:</strong> No run starts until MO/batch record/spec/components all match</li>
                <li><strong>Step 10:</strong> Always compare to retention sample</li>
                <li><strong>Step 11:</strong> Close-out steps must be completed every time</li>
                <li><strong>Step 13:</strong> QA docs must be attached to Monday.com</li>
            </ul>
        </div>
    </div>

    <button class="reset-progress-btn" id="resetProgress">Reset All Progress</button>

    <div class="footer">
        <p>QA Manager Procedure | Pure Earth Labs</p>
        <p>Reference: Loom Training Script | Generated December 8, 2025</p>
    </div>
</div>
</div>

    <script>
        mermaid.initialize({
            startOnLoad: true,
            theme: 'default',
            flowchart: {
                useMaxWidth: true,
                htmlLabels: true,
                curve: 'basis'
            }
        });

        (function() {
            const progressBar = document.getElementById('progressBar');
            const sections = document.querySelectorAll('.section[id^="step-"]');
            const tocLinks = document.querySelectorAll('.toc-sidebar-list a');

            function updateProgressBar() {
                const scrollTop = window.scrollY;
                const docHeight = document.documentElement.scrollHeight - window.innerHeight;
                const progress = (scrollTop / docHeight) * 100;
                progressBar.style.width = Math.min(100, Math.max(0, progress)) + '%';
            }

            function updateActiveSection() {
                let currentSection = null;
                const scrollPos = window.scrollY + 100;

                sections.forEach(section => {
                    const sectionTop = section.offsetTop;
                    const sectionBottom = sectionTop + section.offsetHeight;

                    if (scrollPos >= sectionTop && scrollPos < sectionBottom) {
                        currentSection = section.id;
                    }
                });

                sections.forEach(section => {
                    section.classList.toggle('active', section.id === currentSection);
                });

                tocLinks.forEach(link => {
                    const linkSection = link.getAttribute('data-section');
                    link.classList.toggle('active', linkSection === currentSection);
                });
            }

            let ticking = false;
            function onScroll() {
                if (!ticking) {
                    requestAnimationFrame(() => {
                        updateProgressBar();
                        updateActiveSection();
                        ticking = false;
                    });
                    ticking = true;
                }
            }

            window.addEventListener('scroll', onScroll, { passive: true });

            updateProgressBar();
            updateActiveSection();

            function handleAnchorHighlight() {
                const hash = window.location.hash;
                if (hash) {
                    const targetSection = document.querySelector(hash);
                    if (targetSection && targetSection.classList.contains('section')) {
                        targetSection.classList.add('anchor-highlight');
                        setTimeout(() => {
                            targetSection.classList.remove('anchor-highlight');
                        }, 1500);
                    }
                }
            }

            handleAnchorHighlight();
            window.addEventListener('hashchange', handleAnchorHighlight);

            document.querySelectorAll('.copy-link-btn').forEach(btn => {
                btn.addEventListener('click', function(e) {
                    e.preventDefault();
                    const sectionId = this.getAttribute('data-section');
                    const url = window.location.origin + window.location.pathname + '#' + sectionId;

                    navigator.clipboard.writeText(url).then(() => {
                        this.classList.add('copied');
                        setTimeout(() => {
                            this.classList.remove('copied');
                        }, 1500);
                    }).catch(() => {
                        const input = document.createElement('input');
                        input.value = url;
                        document.body.appendChild(input);
                        input.select();
                        document.execCommand('copy');
                        document.body.removeChild(input);
                        this.classList.add('copied');
                        setTimeout(() => {
                            this.classList.remove('copied');
                        }, 1500);
                    });
                });
            });

            tocLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    const targetId = this.getAttribute('href');
                    const targetSection = document.querySelector(targetId);
                    if (targetSection) {
                        e.preventDefault();
                        targetSection.scrollIntoView({ behavior: 'smooth' });
                        history.pushState(null, null, targetId);
                    }
                });
            });
        })();

        // Interactive Checkboxes
        (function() {
            const STORAGE_KEY = 'qa-procedure-checklist';

            // Load saved state from localStorage
            function loadState() {
                try {
                    const saved = localStorage.getItem(STORAGE_KEY);
                    return saved ? JSON.parse(saved) : {};
                } catch (e) {
                    return {};
                }
            }

            // Save state to localStorage
            function saveState(state) {
                try {
                    localStorage.setItem(STORAGE_KEY, JSON.stringify(state));
                } catch (e) {
                    console.warn('Could not save checklist state');
                }
            }

            // Update progress display for a checklist
            function updateProgress(checklist) {
                const checkboxes = checklist.querySelectorAll('.checkbox');
                const checked = checklist.querySelectorAll('.checkbox[aria-pressed="true"]').length;
                const total = checkboxes.length;

                const progressText = checklist.querySelector('.checklist-progress-text');
                const progressFill = checklist.querySelector('.checklist-progress-fill');

                if (progressText) {
                    progressText.textContent = `${checked}/${total} complete`;
                }
                if (progressFill) {
                    progressFill.style.width = total > 0 ? `${(checked / total) * 100}%` : '0%';
                }
            }

            // Initialize checkbox state from storage
            function initializeCheckboxes() {
                const state = loadState();
                const checkboxes = document.querySelectorAll('.checkbox[data-id]');

                checkboxes.forEach(checkbox => {
                    const id = checkbox.getAttribute('data-id');
                    const isChecked = state[id] === true;

                    checkbox.setAttribute('aria-pressed', isChecked.toString());
                    if (isChecked) {
                        checkbox.closest('.checklist-item')?.classList.add('checked');
                    }
                });

                // Update all progress displays
                document.querySelectorAll('.checklist[data-checklist]').forEach(updateProgress);
            }

            // Toggle checkbox
            function toggleCheckbox(checkbox) {
                const id = checkbox.getAttribute('data-id');
                const isCurrentlyChecked = checkbox.getAttribute('aria-pressed') === 'true';
                const newState = !isCurrentlyChecked;

                // Update aria-pressed
                checkbox.setAttribute('aria-pressed', newState.toString());

                // Update parent item styling
                const item = checkbox.closest('.checklist-item');
                if (item) {
                    item.classList.toggle('checked', newState);
                }

                // Add bounce animation on check
                if (newState) {
                    checkbox.classList.add('just-checked');
                    setTimeout(() => checkbox.classList.remove('just-checked'), 200);
                }

                // Save to localStorage
                const state = loadState();
                state[id] = newState;
                saveState(state);

                // Update progress
                const checklist = checkbox.closest('.checklist[data-checklist]');
                if (checklist) {
                    updateProgress(checklist);
                }
            }

            // Reset all progress
            function resetProgress() {
                if (confirm('Reset all checklist progress? This cannot be undone.')) {
                    localStorage.removeItem(STORAGE_KEY);

                    document.querySelectorAll('.checkbox[data-id]').forEach(checkbox => {
                        checkbox.setAttribute('aria-pressed', 'false');
                        checkbox.closest('.checklist-item')?.classList.remove('checked');
                    });

                    document.querySelectorAll('.checklist[data-checklist]').forEach(updateProgress);
                }
            }

            // Event listeners
            document.addEventListener('click', function(e) {
                const checkbox = e.target.closest('.checkbox[data-id]');
                if (checkbox) {
                    toggleCheckbox(checkbox);
                }
            });

            document.addEventListener('keydown', function(e) {
                if (e.key === 'Enter' || e.key === ' ') {
                    const checkbox = e.target.closest('.checkbox[data-id]');
                    if (checkbox) {
                        e.preventDefault();
                        toggleCheckbox(checkbox);
                    }
                }
            });

            const resetBtn = document.getElementById('resetProgress');
            if (resetBtn) {
                resetBtn.addEventListener('click', resetProgress);
            }

            // Initialize on load
            initializeCheckboxes();
        })();
    </script>
</body>
</html>
